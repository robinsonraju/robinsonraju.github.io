<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Welcome to my site. ">

    <title>Running Hadoop WordCount example - Rob's Notes</title>

    <link rel="canonical" href="http://robinsonraju.github.io/tutorial/big-data/2015/09/15/wordcount-on-hadoop/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/clean-blog.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>


<body>

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Rob's Notes</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li><a href="/">About</a></li>
                <li><a href="/books">Books</a></li>
                <li><a href="/tutorials">Tutorials</a></li>
                <li><a href="/papers">Papers</a></li>
                <li><a href="/blog">General</a></li>
                <li><a href="/quotes">Quotes</a></li>
                <!--
                <li>
                    <a href="/about/">rr</a>
                </li>
                
                <li>
                    <a href="/blog/">Blog Archive</a>
                </li>
                
                <li>
                    <a href="/books/">Books</a>
                </li>
                
                <li>
                    <a href="/">rr</a>
                </li>
                
                <li>
                    <a href="/papers/">Papers</a>
                </li>
                
                <li>
                    <a href="/quotes/"></a>
                </li>
                
                <li>
                    <a href="/tutorials/">Tutorials</a>
                </li>
                -->
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

    
    <header class="intro-header" style="background-image: url('/img/hadoop/words.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="site-heading">
                    <h1>Running Hadoop WordCount example</h1>
                    <hr class="small">
                    <span class="subheading"></span>
                </div>
            </div>
        </div>
    </div>
</header>
    
    <!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

				<p>Here is a small example to run Wordcount program on hadoop. I’ve tried to do this using Cloudera VM and also MapR Sandbox. When you start ClouderaVM, it is already loaded with desktop and you can do all the work inside the desktop - open a browser, start a terminal..etc. MapR Sandbox doesnt come with GUI, so you’d have to ssh into the machine to work on it. You can open <a href="https://localhost:8443">https://localhost:8443</a> in a browser to see Hue to see FileBrowser, DataBrowser, JobBrowser ..etc.</p>

<h2 id="using-cloudera-vm">Using Cloudera VM</h2>

<h3 id="prerequisites">Prerequisites</h3>
<ul>
  <li>Download and install <a href="https://www.virtualbox.org/wiki/Downloads"><strong>Virtualbox</strong></a>.</li>
  <li>Download <a href="http://cloudera.com/content/cloudera/en/downloads/quickstart_vms/cdh-5-4-x.html"><strong>Cloudera VM</strong></a> and import into VirtualBox.</li>
</ul>

<p>In the cloudera VM, open a terminal and go to the directory that contains hadoop library. 
<code>
cd /usr/lib/hadoop-mapreduce/
</code></p>

<h3 id="create-sample-files">Create Sample files</h3>
<pre><code>echo "Hello world in HDFS" &gt; /home/cloudera/testfile1
</code></pre>

<pre><code>echo "Hadoop word count example in HDFS" &gt; /home/cloudera/testfile2
</code></pre>

<h3 id="create-directory-for-the-input-files-on-the-hdfs-file-system-type">Create directory for the input files on the HDFS file system (type)</h3>
<pre><code>hdfs dfs -mkdir /user/cloudera/input
</code></pre>

<h3 id="copy-the-files-from-local-filesystem-to-the-hdfs-filesystem">Copy the files from local filesystem to the HDFS filesystem</h3>
<pre><code>hdfs dfs -put /home/cloudera/testfile1 /user/cloudera/input
</code></pre>

<pre><code>hdfs dfs -put /home/cloudera/testfile2 /user/cloudera/input
</code></pre>

<h3 id="run-the-hadoop-wordcount-example">Run the Hadoop WordCount example</h3>
<pre><code>hadoop jar hadoop-mapreduce-examples.jar wordcount /user/cloudera/input /user/cloudera/output
</code></pre>

<h3 id="after-completion-view-the-output-directory">After completion view the output directory</h3>
<pre><code>hdfs dfs -ls /user/cloudera/output
</code></pre>

<h3 id="check-the-output-file-to-see-the-results">Check the output file to see the results</h3>
<pre><code>hdfs dfs -cat /user/cloudera/output/part-r-00000
</code></pre>

<p><strong>Output</strong></p>

<blockquote>
  <p><img src="/img/hadoop/wc-output.png" width="520" /></p>
</blockquote>

<hr />

<h2 id="using-map-r-sandbox">Using Map-R Sandbox</h2>

<h3 id="prerequisites-1">Prerequisites</h3>
<ul>
  <li>Download and install <a href="https://www.virtualbox.org/wiki/Downloads"><strong>Virtualbox</strong></a>.</li>
  <li>Download <a href="https://www.mapr.com/products/mapr-sandbox-hadoop/download"><strong>MapR Sandbox</strong></a> and install into VirtualBox.</li>
</ul>

<h3 id="ssh-into-mapr-sandbox-vm">ssh into MapR Sandbox VM</h3>
<pre><code>ssh –p 2222 user01@localhost
</code></pre>

<h3 id="create-sample-files-1">Create Sample files</h3>
<pre><code>mkdir input
</code></pre>

<pre><code>cd input
</code></pre>

<pre><code>echo "Hello world in HDFS" &gt; testfile1
</code></pre>

<pre><code>echo "Hadoop word count example in HDFS" &gt; testfile2
</code></pre>

<h3 id="run-the-hadoop-wordcount-example-1">Run the Hadoop WordCount example</h3>
<pre><code>hadoop jar /opt/mapr/hadoop/hadoop-2.7.0/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.0-mapr-1506.jar wordcount /user/user01/input /user/user01/output
</code></pre>

<h3 id="after-completion-view-the-output-directory-1">After completion, view the output directory</h3>
<pre><code>hadoop fs -ls /user/user01/output
</code></pre>

<h3 id="check-the-output-file-to-see-the-results-1">Check the output file to see the results</h3>
<pre><code>hadoop fs -cat /user/user01/output/part-r-00000 
</code></pre>

<p><strong>Output</strong></p>

<blockquote>
  <p><img src="/img/hadoop/wc-output-mapr.png" width="520" /></p>
</blockquote>

<hr />
<p><em>Header Image - “<strong>n1atsigns2 (Network graph of people on twitter connecting to the topics of Big Data, infochimps or Hadoop)</strong>” by Philip Kromer via <a href="https://flic.kr/p/8R7PyB">Flickr</a>. Inverterd colors using Photoshop</em></p>


                <hr>

                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/books/2015/09/06/The-Checklist-Manifesto/" data-toggle="tooltip" data-placement="top" title="The Checklist Manifesto">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/tutorial/big-data/2015/09/21/simple-map-reduce-job/" data-toggle="tooltip" data-placement="top" title="Writing a simple Mapper and Reducer for Wordcount">Next Post &rarr;</a>
                    </li>
                    
                </ul>

            </div>
        </div>
    </div>
</article>

<hr>


    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <li>
                        <a href="/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://twitter.com/robinsonraju">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="https://www.facebook.com/robinson.raju.165">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="https://github.com/robinsonraju">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
                <p class="copyright text-muted">Copyright &copy; Rob's Notes 2016</p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/clean-blog.min.js "></script>


</body>

</html>

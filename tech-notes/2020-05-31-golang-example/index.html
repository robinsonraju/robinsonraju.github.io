<!DOCTYPE html>
<html
  lang="en-us"
  prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#"
>
  <head>
    <meta charset="utf-8" />

    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="HandheldFriendly" content="True" />
<meta name="MobileOptimized" content="320" />
<meta name="viewport" content="width=device-width, initial-scale=1" />


<link rel="apple-touch-icon" sizes="180x180" href="https://robinsonraju.info//apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://robinsonraju.info//favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://robinsonraju.info//favicon-16x16.png">
<link rel="manifest" href="https://robinsonraju.info//site.webmanifest">
<link rel="mask-icon" href="https://robinsonraju.info//safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">



<meta name="keywords" content="">

<meta property="og:title" content="Baby steps on Go" />
<meta property="og:description" content="Starting to read up on blockchain. RV mentioned that I might need to learn Go if I need to tryout some HyperLedger frameworks in the future." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://robinsonraju.info/tech-notes/2020-05-31-golang-example/" />
<meta property="article:published_time" content="2020-05-31T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-05-31T00:00:00+00:00" /><meta property="og:site_name" content="Rob&#39;s Notes" />

<meta property="og:site_name" content="Robinson Raju" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Baby steps on Go"/>
<meta name="twitter:description" content="Starting to read up on blockchain. RV mentioned that I might need to learn Go if I need to tryout some HyperLedger frameworks in the future."/>


<meta itemprop="name" content="Baby steps on Go">
<meta itemprop="description" content="Starting to read up on blockchain. RV mentioned that I might need to learn Go if I need to tryout some HyperLedger frameworks in the future.">
<meta itemprop="datePublished" content="2020-05-31T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2020-05-31T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="749">



<meta itemprop="keywords" content="" />


    <title>Baby steps on Go || Robinson Raju</title>
    <link rel="canonical" href="https://robinsonraju.info/tech-notes/2020-05-31-golang-example/" />

    

    <link rel="stylesheet" href="/css/reboot.css" />
<link rel="stylesheet" href="/css/style.css" />
<link rel="stylesheet" href="/css/syntax.css" />


<link href="https://fonts.googleapis.com/css?family=Lora&display=swap" rel="stylesheet">

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
  </head>
  <body
  class=" look-sheet-bkg"
  lang="en-us">
  <div class="nav-bkg">
    <nav class="content-container pagewide-bar-padding">
      <span class="divider">/ </span>
      <a href="https://robinsonraju.info/" >Robinson Raju</a>
      <span class="divider">/ </span>
  <a href="https://robinsonraju.info/tech-notes">Technical Notes</a>
      <ul class="list-unstyled right-links">

          <li>
            <a href="/about">
              <span class="post-title">About</span>
            </a>
          </li>

</ul>

    </nav>
  </div>
  <article
    id="main"
    class="content-container look-sheet article-pad-v "
    itemscope
    itemtype="https://schema.org/Article" >
  <meta itemprop="author" content="Robinson Raju" />
  <meta itemprop="publisher" content="Robinson Raju" />
  <meta itemprop="image" content="" />
  <meta itemprop="headline" content="Baby steps on Go" />
  <h1 itemprop="name" id="title">Baby steps on Go</h1>

  

    <h4 itemprop="name" id="title">Robinson Raju</h4>

    

    
      <div class="post-tags">
        
          <a href="https://robinsonraju.info/tags/technical-notes/">#Technical Notes</a>&nbsp;
        
          <a href="https://robinsonraju.info/tags/blog/">#Blog</a>&nbsp;
        
      </div>
    

    
      <div class="post-date">
        
          <span itemprop="datePublished">May 31, 2020</span>
          <meta itemprop="dateModified" content="May 31, 2020"/>
        
      | 749 words
      | 4-minute read
      </div>
    
  
  
  <div itemprop="articleBody" id="content" class="article-body margin-top-2em">
    <p>Starting to read up on blockchain. RV mentioned that I might need to learn <a href="https://golang.org/">Go</a> if I need to tryout some <a href="https://www.hyperledger.org/">HyperLedger frameworks</a> in the future. Go has a cool <a href="https://play.golang.org/">playground</a> to try things online and a <a href="https://tour.golang.org/welcome/1">tour</a> which teaches you basics.</p>
<p>Rather than looking at them, I wanted to look at some actual code and infer how things work. Most of the people in the Software industry learn things that way anyway. You take up a new project or a join a new team and the first thing that you do is to setup the codebase and figure your way around. In the past (say a decade back), setting up someone&rsquo;s codebase was the toughest thing. The first setup never worked and you had to actually get a help from one of the past developers to set some esoteric environment variable or have a specific folder structure or have specific versions of Java or some special dependencies. Maven simplified a lot of these dependency issues but still it was a struggle. But fast-forward to 2020, most repos have instructions on how to setup and they are pretty straight forward to setup even if there are no instructions.</p>
<p>Though I&rsquo;ve developed a lot of front-end applications over the years, my expertise has been backend services. So why not look at how to develop a simple REST API using golang? Was thinking of loading a small dataset like <a href="https://www.kaggle.com/bilalyussef/google-books-dataset">&lsquo;Books data&rsquo;</a> or <a href="https://archive.ics.uci.edu/ml/datasets/iris">&lsquo;Iris data&rsquo;</a>.</p>
<h2 id="installing-go">Installing Go</h2>
<p>Installed Go from the golang website. <a href="https://golang.org/dl/">https://golang.org/dl/</a>.
Checked if it was installed.</p>
<pre class="cmd"><code>go version</code></pre>

<p>I got the response back as <code>go version go1.14.3 darwin/amd64</code></p>
<h2 id="sample-codebase">Sample Codebase</h2>
<p>Searched <a href="https://github.com">github.com</a> and got the following go repos for &ldquo;bookdata&rdquo;. Looks like people are using this to learn Go.</p>
<figure>
    <img src="/images/githubsearch-bookdata.png"/> <figcaption>
            <h4>GitHub Search Bookdata</h4>
        </figcaption>
</figure>

<p>The first application seems to be pretty good. It even has documentation on the API paths that are supported.</p>
<h2 id="setting-up-sample-codebase">Setting up sample codebase</h2>
<pre class="cmd"><code>git clone https://github.com/moficodes/bookdata-api.git</code></pre>

<p>I was assuming, and hoping that there should be no other setup that is needed.</p>
<h2 id="starting-the-server">Starting the server</h2>
<pre class="cmd"><code>cd bookdata-api</code></pre>

<pre class="cmd"><code>go run .</code></pre>

<h2 id="testing-the-api">Testing the API</h2>
<p>The documentation has the following REST APIs.
All api endpoints are prefixed with <code>/api/v1</code></p>
<pre><code>Get Books by Author
&quot;/books/authors/{author}&quot;
Optional query parameter for ratingAbove ratingBelow limit and skip

Get Books by BookName
&quot;/books/book-name/{bookName}&quot;
Optional query parameter for ratingAbove ratingBelow limit and skip

Get Book by ISBN
&quot;/book/isbn/{isbn}&quot;

Delete Book by ISBN
&quot;/book/isbn/{isbn}&quot;

Create New Book
&quot;/book&quot;
</code></pre><p>Looking at the dataset in <code>./assets/books.csv</code>, I wasn&rsquo;t sure if Author&rsquo;s names with spaces would work.</p>
<p>The first line in the dataset was this -</p>
<pre><code>1,Harry Potter and the Half-Blood Prince (Harry Potter  #6),
J.K. Rowling-Mary GrandPr√©,4.56,0439785960,9780439785969,eng,652,1944099,26249
</code></pre><p>Decided to open up Postman and do a search using ISBN.</p>
<pre><code>GET http://localhost:8080/api/v1/book/isbn/0439785960
</code></pre><p><strong>voila!</strong></p>
<p><img src="/images/postman-response.png" alt="postman-response"></p>
<p>I was super surprised that it even worked the first time. Exciting stuff. Thanks to <code>moficodes</code> for creating this app and sharing it on github.</p>
<h2 id="inspecting-the-codebase">Inspecting the codebase</h2>
<p>Many people think that reading through a codebase written in a language that you don&rsquo;t yet know, would not be possible. Definitely not! Programming languages are not like human languages. It is usually easy to figure out the simple stuff since the same patterns repeat everywhere, especially if you have been coding or reading code for sometime. Of course, the difficult stuff is not easy. Reading through a complex codebase might take time even if you have a decade or two of coding experience.</p>
<p>The codebase here seems quite simple enough.</p>
<ul>
<li>
<p><code>server.go</code> -&gt; Has a main function with all the API paths defined.</p>
</li>
<li>
<p><code>routes.go</code> -&gt; Has the functions called in server.go like &lsquo;searchByAuthor&rsquo;, &lsquo;searchByISBN&rsquo;, etc.</p>
</li>
<li>
<p><code>loader.go</code> in &lsquo;loader&rsquo; folder -&gt; Has the definition of BookData data structure and a function to load the data.
I&rsquo;d assume that this gets invoked during the server start.</p>
</li>
<li>
<p><code>memory.go</code> -&gt; Has initialize method which has code to load data from a file.</p>
</li>
</ul>
<p>There is no correlation between the filename and the classname as in Java. A file contains a <code>package</code> statement, similar to Java, <code>import</code> statement which has packages to be imported. The syntax for import is different but you get what it is trying to do. Most files seem to be a series of functions declared by the keyword <code>func</code>.</p>
<p><img src="/images/files-in-the-codebase.png" alt="files-in-the-codebase"></p>
<p><img src="/images/main-function.png" alt="main-function"></p>
<h2 id="next-steps">Next steps</h2>
<p>The hard part of actually learning the language starts now. It is one thing to read a codebase and understand what it does and totally a different thing to be able to write or even do code reviews. As a next step, I&rsquo;ll go through the Tour and understand the basics.</p>
<hr>

  </div>

</article>

  


  
    <div class="nav-bkg-50 content-container-narrow-pad bottom-links text-0p75">
      <nav class="flex-row">
      
      <a href="https://robinsonraju.info/tech-notes/2020-05-23-automating-build-n-push/" class="flex-row v-center no-underline"  style="max-width:45%;">
        <span class="text-1p5">‚Üê</span>&nbsp;<span class="re-underline">Previous: Automating the Hugo build and push to GitHub</span>
      </a>
      
      
        <a href="https://robinsonraju.info/tech-notes/2020-06-04-api-documentation/" class="flex-row v-center no-underline" style="max-width: 45%;">
        <span class="re-underline">Next: API documentation using Swagger</span>&nbsp;<span class="text-1p5">‚Üí</span>
        </a>
      
      </nav>
    </div>
  

  </body>
</html>

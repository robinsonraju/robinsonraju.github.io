<!DOCTYPE html>
<html
  lang="en-us"
  prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#"
>
  <head>
    <meta charset="utf-8" />

    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="HandheldFriendly" content="True" />
<meta name="MobileOptimized" content="320" />
<meta name="viewport" content="width=device-width, initial-scale=1" />


<link rel="apple-touch-icon" sizes="180x180" href="https://robinsonraju.info//apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://robinsonraju.info//favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://robinsonraju.info//favicon-16x16.png">
<link rel="manifest" href="https://robinsonraju.info//site.webmanifest">
<link rel="mask-icon" href="https://robinsonraju.info//safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">



<meta name="keywords" content="">

<meta property="og:title" content="Setting up Hugo Site and Migrating from Jekyll" />
<meta property="og:description" content="A couple of years back, I chanced upon an article where someone was describing how simple it was to set up a static website using Ghost." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://robinsonraju.info/tech-notes/2020-05-04-setting-up-hugo-site/" />
<meta property="article:published_time" content="2020-05-04T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-05-04T00:00:00+00:00" /><meta property="og:site_name" content="Rob&#39;s Notes" />

<meta property="og:site_name" content="Robinson Raju" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Setting up Hugo Site and Migrating from Jekyll"/>
<meta name="twitter:description" content="A couple of years back, I chanced upon an article where someone was describing how simple it was to set up a static website using Ghost."/>


<meta itemprop="name" content="Setting up Hugo Site and Migrating from Jekyll">
<meta itemprop="description" content="A couple of years back, I chanced upon an article where someone was describing how simple it was to set up a static website using Ghost.">
<meta itemprop="datePublished" content="2020-05-04T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2020-05-04T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="1136">



<meta itemprop="keywords" content="" />


    <title>Setting up Hugo Site and Migrating from Jekyll || Robinson Raju</title>
    <link rel="canonical" href="https://robinsonraju.info/tech-notes/2020-05-04-setting-up-hugo-site/" />

    

    <link rel="stylesheet" href="/css/reboot.css" />
<link rel="stylesheet" href="/css/style.css" />
<link rel="stylesheet" href="/css/syntax.css" />

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<link href="https://fonts.googleapis.com/css?family=Lora&display=swap" rel="stylesheet">

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
  </head>
  <body
  class=" look-sheet-bkg"
  lang="en-us">
  <div class="nav-bkg">
    <nav class="content-container pagewide-bar-padding">
      <span class="divider">/ </span>
      <a href="https://robinsonraju.info/" >Robinson Raju</a>
      <span class="divider">/ </span>
  <a href="https://robinsonraju.info/tech-notes">Technical Notes</a>
      <ul class="list-unstyled right-links">

          <li>
            <a href="/about">
              <span class="post-title">About</span>
            </a>
          </li>

</ul>

    </nav>
  </div>
  <article
    id="main"
    class="content-container look-sheet article-pad-v "
    itemscope
    itemtype="https://schema.org/Article" >
  <meta itemprop="author" content="Robinson Raju" />
  <meta itemprop="publisher" content="Robinson Raju" />
  <meta itemprop="image" content="" />
  <meta itemprop="headline" content="Setting up Hugo Site and Migrating from Jekyll" />
  <h1 itemprop="name" id="title">Setting up Hugo Site and Migrating from Jekyll</h1>

  

    <h4 itemprop="name" id="title">Robinson Raju</h4>

    

    
      <div class="post-tags">
        
          <a href="https://robinsonraju.info/tags/general/">#General</a>&nbsp;
        
          <a href="https://robinsonraju.info/tags/technical-notes/">#Technical Notes</a>&nbsp;
        
          <a href="https://robinsonraju.info/tags/blog/">#Blog</a>&nbsp;
        
      </div>
    

    
      <div class="post-date">
        
          <span itemprop="datePublished">May 4, 2020</span>
          <meta itemprop="dateModified" content="May 4, 2020"/>
        
      | 1136 words
      | 6-minute read
      </div>
    



  


  <div itemprop="articleBody" id="content" class="article-body margin-top-2em">
    <p>A couple of years back, I chanced upon an article where someone was describing how simple it was to set up a static website using <a href="https://ghost.org/">Ghost</a>. That made me think if I should explore moving from <a href="https://jekyllrb.com/">Jekyll</a> to something newer. New frameworks keep coming up and it probably is a good idea to shift to keep up. So googled for static website generators to see comparisons to products similar to Jekyll. Found that there are many. Hugo caught my attention and I had wanted to migrate my site to Hugo since then. All that was needed was couple of hours or so but I think I probably spent more time exploring through <a href="https://themes.gohugo.io/">Hugo Themes</a> for many days and months. My initial thought was to have a theme similar to the one that I had with Jekyll, which was the <a href="http://blackrockdigital.github.io/startbootstrap-clean-blog-jekyll/">Clean Blog</a> theme. What I had liked the most about the theme was the font, especially the italics version. But I didn&rsquo;t like banner images. Thinking of choosing the right image for an article itself seemed like a chore. I&rsquo;d rather prefer just typing text. My first choice was to go with a theme called <a href="https://themes.gohugo.io/hugo-theme-even/">Even</a>. It didn&rsquo;t quite workout the way I intended it to. I wanted to have a left-nav and also a starting page which was not a list of blog entries. After a couple of tries, used a theme called <a href="https://themes.gohugo.io/anatole/">Anatole</a>. It was super simple to set up and modify.</p>
<h2 id="setting-up-the-hugo-site">Setting up the Hugo Site</h2>
<p>The steps to set up are pretty simple like Jekyll. Hugo&rsquo;s <a href="https://gohugo.io/getting-started/quick-start/">Quick Start</a> page covers the basics very clearly. I&rsquo;ll review what I did in addition to setting up the Hugo site.</p>
<h3 id="1-install-hugo--create-a-new-site">1. Install hugo &amp; Create a new site</h3>
<p>The first step is to install hugo. It is pretty simple on the Mac if you already have <strong><code>brew</code></strong> installed. Installation steps for other OSs are in the <a href="https://gohugo.io/getting-started/installing/">hugo-install</a> site.</p>
<pre><code>brew install hugo
</code></pre><p>You can use <strong><code>hugo version</code></strong> to check if the insallation was done.</p>
<pre><code>hugo new site rr_site
</code></pre><p>It is that simple. This creates a new site with all the default code that is needed. You can start the server by <strong><code>hugo server -D</code></strong> but it would be an empty site. In this step it differs from Jekyll where you get a ready made site right away. In order to view something meaningful, you need to configure your site with a theme.</p>
<h3 id="2-configure-the-site-with-a-theme">2. Configure the site with a theme</h3>
<pre><code>cd rr_site

git init

git submodule add https://github.com/lxndrblz/anatole.git themes/anatole

cp themes/anatole/exampleSite/config.toml .
</code></pre><p>This steps assumes that you already know about <strong><code>git</code></strong> and you have it installed.
Change the directory to the directory of your site. Initialize it as a git repository. Add the theme as a <strong><code>git submodule</code></strong>. After this, copy the config.toml from the examplesite in the theme to the main folder. The other option is to append the theme using <strong><code>echo 'theme = &quot;anatole&quot;' &gt;&gt; config.toml</code></strong> to the default <strong><code>config.toml</code></strong> that was added when the site was created. But this option would be a bare config without much in it. In order to leverage the theme better, it is a good idea to copy the config.toml over and modify it.</p>
<h3 id="3-add-content--start-the-server">3. Add Content &amp; Start the server</h3>
<p>All the content for the site are expected to be in <strong><code>content</code></strong> folder as markdown files. For the first try, you can either add content by using hugo command <strong><code>hugo new posts/my-first-post.md</code></strong>, or copy sample content from the example site within the theme folder <strong><code>./themes/anatole/exampleSite/content</code></strong>.</p>
<pre><code>hugo server -D
</code></pre><p>This starts the server and you&rsquo;d be able to view it at <a href="http://localhost:1313">http://localhost:1313</a>.</p>
<p>You can modify the content and the site will automatically rebuild. You can manually rebuild by simply typing <strong><code>hugo</code></strong> command on the command prompt.</p>
<h2 id="migrate-content-from-jekyll">Migrate content from Jekyll</h2>
<h3 id="1-content">1. Content</h3>
<p>I initially thought I&rsquo;d just move all the files from <strong><code>_posts</code></strong> directory in Jekyll root folder to <strong><code>content</code></strong> folder in Hugo root folder. But that gave a lot of parsing errors. Got to know that Hugo support <strong><code>TOML</code></strong> format where metadata is enclosed with 2 lines of +++ and has <em>key = &ldquo;<value>&rdquo;</em> structure and also <strong><code>YAML</code></strong> format where metadata is enclosed with 2 lines of &mdash; and has <em>key : value</em> structure. So it should support Jekyll&rsquo;s YAML structure automatically. One of the keys &lsquo;category&rsquo; was a String in my yaml file and in the new theme, it was an array. So changing that to array, fixed the issue and I was able to copy over all the content.</p>
<h3 id="2-static-files---images-css">2. Static files - images, css</h3>
<p>My Jekyll set up had specific folders named <strong><code>css, js, img</code></strong>, etc. under the <strong><code>root</code></strong> folder to store static data. In Hugo, it is all in <strong><code>static</code></strong> folder under the <strong><code>root</code></strong> folder .
I copied over css from the theme folder to override. Also copied over some template HTMLs from theme to <strong><code>layouts</code></strong> folder.</p>
<p><img src="/images/screenshot-layouts.png" alt="layouts folder"></p>
<p><img src="/images/screenshot-static.png" alt="static folder"></p>
<h2 id="3-deploying-to-github-pages">3. Deploying to Github pages</h2>
<p>Github pages natively support Jekyll but not Hugo. So if I just replaced my github.io content with all the files from Hugo, it would not work at all.</p>
<p>I already had my static page on <a href="https://github.com/robinsonraju/robinsonraju.github.io">https://github.com/robinsonraju/robinsonraju.github.io</a>. Github automatically builds Jekyll pages, and puts the static files into <strong><code>_site</code></strong> directory. So we need to do the same. i.e., do a build, generate static files and put them into <strong><code>_site</code></strong> directory in <strong><code>&lt;user&gt;.github.io repo</code></strong>. The first thing I did was to take a backup of the contents inside <strong><code>&lt;user&gt;.github.io</code></strong> repo and delete everything in it. After that, went through the process to generate static files with hugo.</p>
<p>The process is pretty simple.</p>
<ol>
<li>Add the github repo as a submodule of the project repo.</li>
</ol>
<pre><code>git submodule add https://github.com/&lt;user&gt;/&lt;user&gt;.github.io.git &lt;user&gt;.github.io
</code></pre><ol start="2">
<li>Change config.toml and update the publish directory - <strong><code>publishDir = &quot;&lt;user&gt;.github.io&quot;</code></strong></li>
</ol>
<pre><code>baseURL = &quot;https://&lt;user&gt;.github.io/&quot;

title = &quot;Website Title&quot;

theme = &quot;anatole&quot;

publishDir = &quot;&lt;user&gt;.github.io&quot;
</code></pre><ol start="3">
<li>Do a build using the command <strong><code>hugo</code></strong> in the command line. This updates <strong><code>_site</code></strong> folder in the publish directory which is our submodule.</li>
</ol>
<pre><code>hugo
</code></pre><ol start="4">
<li>Push the changes in the submodule to github.</li>
</ol>
<pre><code>cd &lt;user&gt;.github.io

git add .

git commit -m &quot;Initial commit of HTML generated from hugo.&quot;

git push -u origin master
</code></pre><p>A few other files that I had to copy over from my backup to the github.io repo were CNAME, google site verification html and favicon.ico. Otherwise, it worked as is.</p>
<h2 id="4-customizations-optional">4. Customizations (Optional)</h2>
<p>You might notice that the website (<a href="https://robinsonraju.info">https://robinsonraju.info</a>) is different from anatole theme. It has 3 columns, the left nav is not as wide, the font is different, etc.
As I mentioned earlier, I copied over css from the theme folder to override and changed a bunch of them.
I wanted to have a TOC on the posts and followed instructions from <a href="https://www.bram.us/2020/01/10/smooth-scrolling-sticky-scrollspy-navigation/">https://www.bram.us/2020/01/10/smooth-scrolling-sticky-scrollspy-navigation/</a> to achieve that. Copied over <strong><code>single.html</code></strong> from themes layouts into the local <strong><code>layouts/_default</code></strong> folder and modified it.</p>
<p>That&rsquo;s it. All the best on your Hugo site.</p>

  </div>

</article>

  


  
    <div class="nav-bkg-50 content-container-narrow-pad bottom-links text-0p75">
      <nav class="flex-row">
      
      <a href="https://robinsonraju.info/tech-notes/2015-09-30-mapreducejob-iris/" class="flex-row v-center no-underline"  style="max-width:45%;">
        <span class="text-1p5">←</span>&nbsp;<span class="re-underline">Previous: A Simple MapReduce Job for Iris Dataset</span>
      </a>
      
      
        <a href="https://robinsonraju.info/tech-notes/2020-05-23-automating-build-n-push/" class="flex-row v-center no-underline" style="max-width: 45%;">
        <span class="re-underline">Next: Automating the Hugo build and push to GitHub</span>&nbsp;<span class="text-1p5">→</span>
        </a>
      
      </nav>
    </div>
  

  </body>
</html>

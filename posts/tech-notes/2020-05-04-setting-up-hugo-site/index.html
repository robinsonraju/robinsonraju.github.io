<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="A couple of years back, I chanced upon an article where someone was describing how simple it was to set up a static website using Ghost.">
<meta name="theme-color" content="#FFFFFF">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="Setting up Hugo Site and Migrating from Jekyll" />
<meta property="og:description" content="A couple of years back, I chanced upon an article where someone was describing how simple it was to set up a static website using Ghost." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://robinsonraju.info/posts/tech-notes/2020-05-04-setting-up-hugo-site/" />
<meta property="article:published_time" content="2020-05-04T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-05-04T00:00:00+00:00" /><meta property="og:site_name" content="Rob&#39;s Notes" />
<title>Setting up Hugo Site and Migrating from Jekyll | Rob&#39;s Notes</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.da110f27d6a4d632dc8e162876b7216c5c1f82164fbdac7ff33021633767f034.css" integrity="sha256-2hEPJ9ak1jLcjhYodrchbFwfghZPvax/8zAhYzdn8DQ=" crossorigin="anonymous">
  <script defer src="/flexsearch.min.js"></script>
  <script defer src="/en.search.min.2e8f8decce0053f89531d0003743736195fbf004068a9dafd624530b33d1f562.js" integrity="sha256-Lo&#43;N7M4AU/iVMdAAN0NzYZX78AQGip2v1iRTCzPR9WI=" crossorigin="anonymous"></script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-166342905-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>Rob&#39;s Notes</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  



  
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/about/" class="">About</a>
  

        </li>
      
    
  </ul>











  
<ul>
  
  <li>
    <a href="/posts/" >
        Blog
      </a>
  </li>
  
  <li>
    <a href="/posts/books/" >
        Book Notes
      </a>
  </li>
  
</ul>






</nav>




  <script>(function(){var menu=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Setting up Hugo Site and Migrating from Jekyll</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#setting-up-the-hugo-site">Setting up the Hugo Site</a>
      <ul>
        <li><a href="#1-install-hugo--create-a-new-site">1. Install hugo &amp; Create a new site</a></li>
        <li><a href="#2-configure-the-site-with-a-theme">2. Configure the site with a theme</a></li>
        <li><a href="#3-add-content--start-the-server">3. Add Content &amp; Start the server</a></li>
      </ul>
    </li>
    <li><a href="#migrate-content-from-jekyll">Migrate content from Jekyll</a>
      <ul>
        <li><a href="#1-content">1. Content</a></li>
        <li><a href="#2-static-files---images-css">2. Static files - images, css</a></li>
      </ul>
    </li>
    <li><a href="#3-deploying-to-github-pages">3. Deploying to Github pages</a></li>
    <li><a href="#4-customizations-optional">4. Customizations (Optional)</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
<article class="markdown">
  <h1>
    <a href="/posts/tech-notes/2020-05-04-setting-up-hugo-site/">Setting up Hugo Site and Migrating from Jekyll</a>
  </h1>
  
  <h5>May 4, 2020</h5>



  
  <div>
    
      <a href="/categories/General/">General</a>, 
      <a href="/categories/Technical-Notes/">Technical Notes</a>
  </div>
  

  



<p>A couple of years back, I chanced upon an article where someone was describing how simple it was to set up a static website using <a href="https://ghost.org/">Ghost</a>. That made me think if I should explore moving from <a href="https://jekyllrb.com/">Jekyll</a> to something newer. New frameworks keep coming up and it probably is a good idea to shift to keep up. So googled for static website generators to see comparisons to products similar to Jekyll. Found that there are many. Hugo caught my attention and I had wanted to migrate my site to Hugo since then. All that was needed was couple of hours or so but I think I probably spent more time exploring through <a href="https://themes.gohugo.io/">Hugo Themes</a> for many days and months. My initial thought was to have a theme similar to the one that I had with Jekyll, which was the <a href="http://blackrockdigital.github.io/startbootstrap-clean-blog-jekyll/">Clean </a> theme. What I had liked the most about the theme was the font, especially the italics version. But I didn&rsquo;t like banner images. Thinking of choosing the right image for an article itself seemed like a chore. I&rsquo;d rather prefer just typing text. My first choice was to go with a theme called <a href="https://themes.gohugo.io/hugo-theme-even/">Even</a>. It didn&rsquo;t quite workout the way I intended it to. I wanted to have a left-nav and also a starting page which was not a list of blog entries. After a couple of tries, used a theme called <a href="https://themes.gohugo.io/anatole/">Anatole</a>. It was super simple to set up and modify.</p>
<h2 id="setting-up-the-hugo-site">
  Setting up the Hugo Site
  <a class="anchor" href="#setting-up-the-hugo-site">#</a>
</h2>
<p>The steps to set up are pretty simple like Jekyll. Hugo&rsquo;s <a href="https://gohugo.io/getting-started/quick-start/">Quick Start</a> page covers the basics very clearly. I&rsquo;ll review what I did in addition to setting up the Hugo site.</p>
<h3 id="1-install-hugo--create-a-new-site">
  1. Install hugo &amp; Create a new site
  <a class="anchor" href="#1-install-hugo--create-a-new-site">#</a>
</h3>
<p>The first step is to install hugo. It is pretty simple on the Mac if you already have <strong><code>brew</code></strong> installed. Installation steps for other OSs are in the <a href="https://gohugo.io/getting-started/installing/">hugo-install</a> site.</p>
<div class="highlight"><pre style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">brew install hugo
</code></pre></div><p>You can use <strong><code>hugo version</code></strong> to check if the insallation was done.</p>
<div class="highlight"><pre style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">hugo new site rr_site
</code></pre></div><p>It is that simple. This creates a new site with all the default code that is needed. You can start the server by <strong><code>hugo server -D</code></strong> but it would be an empty site. In this step it differs from Jekyll where you get a ready made site right away. In order to view something meaningful, you need to configure your site with a theme.</p>
<h3 id="2-configure-the-site-with-a-theme">
  2. Configure the site with a theme
  <a class="anchor" href="#2-configure-the-site-with-a-theme">#</a>
</h3>
<div class="highlight"><pre style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">cd rr_site

git init

git submodule add https://github.com/lxndrblz/anatole.git themes/anatole

cp themes/anatole/exampleSite/config.toml .
</code></pre></div><p>This steps assumes that you already know about <strong><code>git</code></strong> and you have it installed.
Change the directory to the directory of your site. Initialize it as a git repository. Add the theme as a <strong><code>git submodule</code></strong>. After this, copy the config.toml from the examplesite in the theme to the main folder. The other option is to append the theme using <strong><code>echo 'theme = &quot;anatole&quot;' &gt;&gt; config.toml</code></strong> to the default <strong><code>config.toml</code></strong> that was added when the site was created. But this option would be a bare config without much in it. In order to leverage the theme better, it is a good idea to copy the config.toml over and modify it.</p>
<h3 id="3-add-content--start-the-server">
  3. Add Content &amp; Start the server
  <a class="anchor" href="#3-add-content--start-the-server">#</a>
</h3>
<p>All the content for the site are expected to be in <strong><code>content</code></strong> folder as markdown files. For the first try, you can either add content by using hugo command <strong><code>hugo new posts/my-first-post.md</code></strong>, or copy sample content from the example site within the theme folder <strong><code>./themes/anatole/exampleSite/content</code></strong>.</p>
<div class="highlight"><pre style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">hugo server -D
</code></pre></div><p>This starts the server and you&rsquo;d be able to view it at <a href="http://localhost:1313">http://localhost:1313</a>.</p>
<p>You can modify the content and the site will automatically rebuild. You can manually rebuild by simply typing <strong><code>hugo</code></strong> command on the command prompt.</p>
<h2 id="migrate-content-from-jekyll">
  Migrate content from Jekyll
  <a class="anchor" href="#migrate-content-from-jekyll">#</a>
</h2>
<h3 id="1-content">
  1. Content
  <a class="anchor" href="#1-content">#</a>
</h3>
<p>I initially thought I&rsquo;d just move all the files from <strong><code>_posts</code></strong> directory in Jekyll root folder to <strong><code>content</code></strong> folder in Hugo root folder. But that gave a lot of parsing errors. Got to know that Hugo support <strong><code>TOML</code></strong> format where metadata is enclosed with 2 lines of +++ and has <em>key = &ldquo;<!-- raw HTML omitted -->&rdquo;</em> structure and also <strong><code>YAML</code></strong> format where metadata is enclosed with 2 lines of &mdash; and has <em>key : value</em> structure. So it should support Jekyll&rsquo;s YAML structure automatically. One of the keys &lsquo;category&rsquo; was a String in my yaml file and in the new theme, it was an array. So changing that to array, fixed the issue and I was able to copy over all the content.</p>
<h3 id="2-static-files---images-css">
  2. Static files - images, css
  <a class="anchor" href="#2-static-files---images-css">#</a>
</h3>
<p>My Jekyll set up had specific folders named <strong><code>css, js, img</code></strong>, etc. under the <strong><code>root</code></strong> folder to store static data. In Hugo, it is all in <strong><code>static</code></strong> folder under the <strong><code>root</code></strong> folder .
I copied over css from the theme folder to override. Also copied over some template HTMLs from theme to <strong><code>layouts</code></strong> folder.</p>
<p><img src="/images/screenshot-layouts.png" alt="layouts folder" /></p>
<p><img src="/images/screenshot-static.png" alt="static folder" /></p>
<h2 id="3-deploying-to-github-pages">
  3. Deploying to Github pages
  <a class="anchor" href="#3-deploying-to-github-pages">#</a>
</h2>
<p>Github pages natively support Jekyll but not Hugo. So if I just replaced my github.io content with all the files from Hugo, it would not work at all.</p>
<p>I already had my static page on <a href="https://github.com/robinsonraju/robinsonraju.github.io">https://github.com/robinsonraju/robinsonraju.github.io</a>. Github automatically builds Jekyll pages, and puts the static files into <strong><code>_site</code></strong> directory. So we need to do the same. i.e., do a build, generate static files and put them into <strong><code>_site</code></strong> directory in <strong><code>&lt;user&gt;.github.io repo</code></strong>. The first thing I did was to take a backup of the contents inside <strong><code>&lt;user&gt;.github.io</code></strong> repo and delete everything in it. After that, went through the process to generate static files with hugo.</p>
<p>The process is pretty simple.</p>
<ol>
<li>Add the github repo as a submodule of the project repo.</li>
</ol>
<div class="highlight"><pre style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">git submodule add https://github.com/&lt;user&gt;/&lt;user&gt;.github.io.git &lt;user&gt;.github.io
</code></pre></div><ol start="2">
<li>Change config.toml and update the publish directory - <strong><code>publishDir = &quot;&lt;user&gt;.github.io&quot;</code></strong></li>
</ol>
<div class="highlight"><pre style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">baseURL = &#34;https://&lt;user&gt;.github.io/&#34;

title = &#34;Website Title&#34;

theme = &#34;anatole&#34;

publishDir = &#34;&lt;user&gt;.github.io&#34;
</code></pre></div><ol start="3">
<li>Do a build using the command <strong><code>hugo</code></strong> in the command line. This updates <strong><code>_site</code></strong> folder in the publish directory which is our submodule.</li>
</ol>
<div class="highlight"><pre style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">hugo
</code></pre></div><ol start="4">
<li>Push the changes in the submodule to github.</li>
</ol>
<div class="highlight"><pre style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">cd &lt;user&gt;.github.io

git add .

git commit -m &#34;Initial commit of HTML generated from hugo.&#34;

git push -u origin master
</code></pre></div><p>A few other files that I had to copy over from my backup to the github.io repo were CNAME, google site verification html and favicon.ico. Otherwise, it worked as is.</p>
<h2 id="4-customizations-optional">
  4. Customizations (Optional)
  <a class="anchor" href="#4-customizations-optional">#</a>
</h2>
<p>You might notice that the website (<a href="https://robinsonraju.info">https://robinsonraju.info</a>) is different from anatole theme. It has 3 columns, the left nav is not as wide, the font is different, etc.
As I mentioned earlier, I copied over css from the theme folder to override and changed a bunch of them.
I wanted to have a TOC on the posts and followed instructions from <a href="https://www.bram.us/2020/01/10/smooth-scrolling-sticky-scrollspy-navigation/">https://www.bram.us/2020/01/10/smooth-scrolling-sticky-scrollspy-navigation/</a> to achieve that. Copied over <strong><code>single.html</code></strong> from themes layouts into the local <strong><code>layouts/_default</code></strong> folder and modified it.</p>
<p>That&rsquo;s it. All the best on your Hugo site.</p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function select(element){const selection=window.getSelection();const range=document.createRange();range.selectNodeContents(element);selection.removeAllRanges();selection.addRange(range);}
document.querySelectorAll("pre code").forEach(code=>{code.addEventListener("click",function(event){select(code.parentElement);if(navigator.clipboard){navigator.clipboard.writeText(code.parentElement.textContent);}});});})();</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#setting-up-the-hugo-site">Setting up the Hugo Site</a>
      <ul>
        <li><a href="#1-install-hugo--create-a-new-site">1. Install hugo &amp; Create a new site</a></li>
        <li><a href="#2-configure-the-site-with-a-theme">2. Configure the site with a theme</a></li>
        <li><a href="#3-add-content--start-the-server">3. Add Content &amp; Start the server</a></li>
      </ul>
    </li>
    <li><a href="#migrate-content-from-jekyll">Migrate content from Jekyll</a>
      <ul>
        <li><a href="#1-content">1. Content</a></li>
        <li><a href="#2-static-files---images-css">2. Static files - images, css</a></li>
      </ul>
    </li>
    <li><a href="#3-deploying-to-github-pages">3. Deploying to Github pages</a></li>
    <li><a href="#4-customizations-optional">4. Customizations (Optional)</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












